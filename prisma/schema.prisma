generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 Int              @id @default(autoincrement())
  username           String?          @unique @db.VarChar(15)
  avatar_url         String
  profesion          String
  email              String           @unique
  skills             String[]
  descriptionLong    String           @db.VarChar(80)
  about              String           @db.VarChar(300)
  social             String[]
  workExperience     String
  ownerProjectId     String
  companyName        String
  employmentType     String
  titleWork          String           @db.VarChar(80)
  isCurrent          Boolean
  isAdminUser        Boolean          @default(false)
  date               DateTime         @default(now())
  description        String           @db.VarChar(300)
  titleProject       String           @db.VarChar(80)
  descriptionProject String           @db.VarChar(300)
  workSkills         String[]
  role               String
  createdAt          DateTime         @default(now())
  password           String
  posts              Post[]
  candidatesLists    CandidatesList[]
  myReports          Reports[]
}

model Post {
  id              Int              @id @default(autoincrement())
  authorId        Int
  projectTitle    String
  projectLocation String
  isProjectRemote Boolean          @default(false)
  salaryRange     Decimal
  isPayment       Boolean          @default(false)
  skills          String[]
  author          User             @relation(fields: [authorId], references: [id])
  createdAt       DateTime         @default(now())
  modifiedAt      DateTime         @default(now())
  candidatesLists CandidatesList[]
}

model CandidatesList {
  id                Int     @id @default(autoincrement())
  userId            Int
  username          String
  descriptionLong   String
  workId            Int
  isAccepted        Boolean @default(false)
  isWaitingResponse Boolean @default(true)
  workPostulated    Post    @relation(fields: [workId], references: [id])
  user              User    @relation(fields: [userId], references: [id])
}

model CompanionsProject {
  id       Int    @id @default(autoincrement())
  username String
}

model Reports {
  id                Int     @id @default(autoincrement())
  userReporteredId  Int
  titleReport       String
  typeReport        String
  descriptionReport String
  isPending         Boolean @default(true)
  isResolved        Boolean @default(false)
  userReportered    User    @relation(fields: [userReporteredId], references: [id])
  createdAt         DateTime @default(now())
}

model PostSaves {
  id    Int @id @default(autoincrement())
}